<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>COMOS Walkinside Server Web APIs: WalkinsideJS</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">COMOS Walkinside Server Web APIs
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('walkinside-js.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">WalkinsideJS </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>WalkinsideJS is COMOS Walkinside's JavaScript API for HTML applications. It allows you to embed interactive Walkinside 3D view and to control its behavior.</p>
<p>WalkinsideJS does rendering on the server, so the client does not need a powerful GPU. Any HTML5 browser can run WalkinsideJS client.</p>
<h3>Adding WalkinsideJS to your application</h3>
<p>Three easy steps:</p>
<ol type="1">
<li>You need to have a COMOS Walkinside Server, including Rendering Service feature (requires that server has a GPU supported by COMOS Walkinside).</li>
<li>Next, you need to load <code>walkinside.js</code> script into your HTML application:</li>
</ol>
<blockquote class="doxtable">
<p>&lt;script src="[walkinside-server-address]/walkinside-js/walkinside.js"&gt;&lt;/script&gt; </p>
</blockquote>
<p>(If you customized your installation, the <code>/walkinside-js/</code> path may be different.)</p>
<ol type="1">
<li>Finally, you need to add an HTML element to your page that will serve as a container for the 3D view. Any block element, like div, will do.</li>
</ol>
<p>After the script is loaded you can start using the global <code>walkinside</code> object. Its interface is described in the "API Reference" section below.</p>
<h3>Versioning</h3>
<p>WalkinsideJS follows semantic versioning scheme (<a href="http://semver.org">http://semver.org</a>) to indicate to clients when there is compatibility breakage.</p>
<p>Current release is versioned as 0.2.0.</p>
<h3>API Reference</h3>
<h4>Global "walkinside" object</h4>
<blockquote class="doxtable">
<p>walkinside.createViewAsync(options) &rarr; Promise&lt;View&gt; </p>
</blockquote>
<p>Creates a new 3D view.</p>
<p>The "options" parameter is an object with the following attributes:</p>
<ul>
<li><p class="startli"><code>targetElementId</code>: id of the DOM element that will serve as a container.</p>
<p class="startli">3D view content will be inserted into this element. The size of the container will determine the size of the 3D view.</p>
<p class="startli">When calling this function make sure that the target element is created and ready. For example, use jQuery's <code>ready()</code> helper.</p>
</li>
<li><p class="startli"><code>backendAddress</code>: URI address of the WalkinsideJS backend.</p>
<p class="startli">WalkinsideJS will use this address to initialize the view and connect to the server-side rendering backend.</p>
<p class="startli">Usually it is <code>[walkinside-server-address]/walkinside-js/</code>, unless your installation is customized.</p>
</li>
</ul>
<p>Return value is a promise, which is resolved when the view is successfully created.</p>
<h4>View</h4>
<blockquote class="doxtable">
<p>view.loadProjectAsync(options) &rarr; Promise&lt;Project&gt; </p>
</blockquote>
<p>Opens a 3D project and displays it in the view.</p>
<p>The "options" parameter is an object with the following attributes:</p>
<ul>
<li><p class="startli"><code>projectAddress</code>: URI address of a Walkinside online project to open.</p>
<p class="startli"><a class="anchor" id="findprojectAddress"></a> There are a few ways to find out the address of your project:</p><ul>
<li>use Copy Link on "Available Projects" page of Walkinside Server Portal</li>
<li>use Portal Client Tool to query project's address by its name</li>
</ul>
</li>
</ul>
<p>Return value is a promise, which is resolved when the project is successfully opened.</p>
<h4>Project</h4>
<blockquote class="doxtable">
<p>project.selectAndFlyToAsync(options) &rarr; Promise&lt;Result&gt; </p>
</blockquote>
<p>Selects a tagged equipment and flies the camera to it. The gravity and collision are switched off as soon as camera starts moving and remain switched off afterwards.</p>
<p>The <code>options</code> parameter is an object with the following attributes:</p>
<ul>
<li><code>tagValue</code>: string value of the tag for the equipment to be selected.</li>
</ul>
<p>Return value is a promise, which is resolved as soon as tag lookup is complete. The value is an object with a "result" attribute set to either <code>"found"</code>, <code>"not-found"</code> or <code>"found-multiple"</code>.</p>
<p>If selection succeeds, the <code>change-selection</code> event is fired as well.</p>
<blockquote class="doxtable">
<p>project.on(eventName, eventHandler) </p>
</blockquote>
<p>Subscribes <code>eventHandler</code> callback to a named event.</p>
<p>The following events are available:</p>
<ul>
<li><p class="startli"><code>change-selection</code></p>
<p class="startli">Fires whenever current selection changes, either due to user interacting with the 3D view or due to an API call like <code>selectAndFlyToAsync</code>.</p>
<p class="startli"><code>eventHandler</code> callback receives an object with a <code>tagValue</code> attribute, which is either set to the string tag of the current selection or is undefined. The latter happens when selection is reset; for instance, when user tries to select an untagged object.</p>
</li>
</ul>
<blockquote class="doxtable">
<p>project.jumpToHome() </p>
</blockquote>
<p>Instantly moves camera to the initial viewpoint of the project.</p>
<blockquote class="doxtable">
<p>project.applyColorsAsync(options) &rarr; Promise&lt;void&gt; </p>
</blockquote>
<p>New since 0.2.0.</p>
<p>Resets all colors currently applied, if any, and applies a new set of colors to a set of tagged objects. Colors are not persisted between sessions: colors will not be restored when you reopen a project.</p>
<p>The <code>options</code> parameter is an object with the following attributes:</p>
<ul>
<li><code>colorGroups</code>: an array of objects describing how to apply which colors to which tagged objects.</li>
</ul>
<p>colorGroup has 3 attributes:</p><ul>
<li><code>color</code>: an html color (ex: '#00FF00', 'lime')</li>
<li><code>opacity</code>: an optional opacity in the range [0.0-1.0]. 1.0 if not set.</li>
<li><code>tagValues</code>: a list of tags to apply the colorization to</li>
</ul>
<p>Return value is a promise, which is resolved as soon as colors are applied. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Jul 18 2018 16:36:34 for COMOS Walkinside Server Web APIs by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
