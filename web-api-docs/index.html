<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>COMOS WalkinsideJs: Welcome</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">COMOS WalkinsideJs
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Welcome </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>WalkinsideJS is COMOS Walkinside's JavaScript API for HTML applications. It allows you to embed interactive Walkinside 3D view and to control its behavior.</p>
<p>WalkinsideJS does rendering on the server, so the client does not need a powerful GPU. Any HTML5 browser can run WalkinsideJS client.</p>
<h2>Package overview</h2>
<p>WalkinsideJS is released for developer preview, meaning that it is in active development and we cannot yet provide the same level of support and stability as for officially released APIs.</p>
<p>If you have feedback, suggestions or questions, please let us know at <a href="https://github.com/walkinside/sdk/issues">https://github.com/walkinside/sdk/issues</a>.</p>
<h2>Table of contents</h2>
<ul>
<li><a href="#whats-new">What's New</a></li>
<li><a href="#installation">Adding WalkinsideJS to your application</a></li>
<li><a href="#api">WalkinsideJs API</a></li>
<li><a href="#examples">WalkinsideJs Examples</a></li>
</ul>
<p><a class="anchor" id="whats-new"></a> </p>
<h2>What's new</h2>
<p><a class="anchor" id="installation"></a></p>
<h2>Adding WalkinsideJS to your application</h2>
<p>Three easy steps:</p>
<ol type="1">
<li>You need to have a COMOS Walkinside Server, including Rendering Service feature (requires that server has a GPU supported by COMOS Walkinside).</li>
<li>Next, you need to load <code>walkinside.js</code> script into your HTML application:<br />
 <code>&lt;script src="[walkinside-server-address]/walkinside-js/walkinside.js" /&gt;</code><br />
 (If you customized your installation, the <code>/walkinside-js/</code> path may be different.)</li>
<li>Finally, you need to add an HTML element to your page that will serve as a container for the 3D view. Any block element, like div, will do.</li>
</ol>
<p>After the script is loaded you can start using the global <code>walkinside</code> object. Its interface is described in the "API Reference" section below.</p>
<h3>Versioning</h3>
<p>WalkinsideJS follows semantic versioning scheme (<a href="http://semver.org">http://semver.org</a>) to indicate to clients when there is compatibility breakage.</p>
<p><a class="anchor" id="api"></a></p>
<h2>API Reference</h2>
<h3>Global "walkinside" object</h3>
<blockquote class="doxtable">
<p>walkinside.createViewAsync(options) &rarr; <code>Promise&lt;View&gt;</code> </p>
</blockquote>
<p>Creates a new 3D view.</p>
<p>The "options" parameter is an object with the following attributes:</p>
<ul>
<li><p class="startli"><code>targetElementId</code>: id of the DOM element that will serve as a container.</p>
<p class="startli">3D view content will be inserted into this element. The size of the container will determine the size of the 3D view.</p>
<p class="startli">When calling this function make sure that the target element is created and ready. For example, use jQuery's <code>ready()</code> helper.</p>
</li>
<li><p class="startli"><code>backendAddress</code>: URI address of the WalkinsideJS backend.</p>
<p class="startli">WalkinsideJS will use this address to initialize the view and connect to the server-side rendering backend.</p>
<p class="startli">Usually it is <code>[walkinside-server-address]/walkinside-js/</code>, unless your installation is customized.</p>
</li>
</ul>
<p>Return value is a promise, which is resolved when the view is successfully created.</p>
<h3>View</h3>
<blockquote class="doxtable">
<p>view.loadProjectAsync(options) &rarr; <code>Promise&lt;Project&gt;</code> </p>
</blockquote>
<p>Opens a 3D project and displays it in the view.</p>
<p>The "options" parameter is an object with the following attributes:</p>
<ul>
<li><p class="startli"><code>projectAddress</code>: URI address of a Walkinside online project to open.</p>
<p class="startli"><a class="anchor" id="findprojectAddress"></a> There are a few ways to find out the address of your project:</p><ul>
<li>use Copy Link on "Available Projects" page of Walkinside Server Portal</li>
<li>use Portal Client Tool to query project's address by its name</li>
</ul>
</li>
</ul>
<p>Return value is a promise, which is resolved when the project is successfully opened.</p>
<blockquote class="doxtable">
<p>view.executeCommandAsync(options) &rarr; <code>Promise</code> </p>
</blockquote>
<p>The <code>options</code> parameter is an object with the following attributes:</p>
<ul>
<li><code>commandName</code>: name of the command you want to execute.</li>
<li><code>commandInput</code>: input that will be passed to the command handler.</li>
</ul>
<p>Return value is a promise, which is resolved when the handler have been executed, if any.</p>
<blockquote class="doxtable">
<p>view.notifyAsync(options) &rarr; <code>Promise</code> </p>
</blockquote>
<p>The <code>options</code> parameter is an object with the following attributes:</p>
<ul>
<li><code>notificationName</code>: name of the notification.</li>
<li><code>notificationInput</code>: input that will be passed to the notification handler(s).</li>
</ul>
<p>Return value is a promise, which is resolved when all the handlers have been executed, if any.</p>
<blockquote class="doxtable">
<p>project.onNotify(notificationName, notificationHandler) </p>
</blockquote>
<p>Subscribes <code>notificationHandler</code> callback to a notification event.</p>
<h3>Project</h3>
<blockquote class="doxtable">
<p>project.selectAndFlyToAsync(options) &rarr; <code>Promise&lt;Result&gt;</code> </p>
</blockquote>
<p>Selects a tagged equipment and flies the camera to it. The gravity and collision are switched off as soon as camera starts moving and remain switched off afterwards.</p>
<p>The <code>options</code> parameter is an object with the following attributes:</p>
<ul>
<li><code>tagValue</code>: string value of the tag for the equipment to be selected.</li>
</ul>
<p>Return value is a promise, which is resolved as soon as tag lookup is complete. The value is an object with a "result" attribute set to either <code>"found"</code>, <code>"not-found"</code> or <code>"found-multiple"</code>.</p>
<p>If selection succeeds, the <code>change-selection</code> event is fired as well.</p>
<blockquote class="doxtable">
<p>project.on(eventName, eventHandler) </p>
</blockquote>
<p>Subscribes <code>eventHandler</code> callback to a named event.</p>
<p>The following events are available:</p>
<ul>
<li><p class="startli"><code>change-selection</code></p>
<p class="startli">Fires whenever current selection changes, either due to user interacting with the 3D view or due to an API call like <code>selectAndFlyToAsync</code>.</p>
<p class="startli"><code>eventHandler</code> callback receives an object with a <code>tagValue</code> attribute, which is either set to the string tag of the current selection or is undefined. The latter happens when selection is reset; for instance, when user tries to select an untagged object.</p>
</li>
</ul>
<blockquote class="doxtable">
<p>project.jumpToHome() </p>
</blockquote>
<p>Instantly moves camera to the initial viewpoint of the project.</p>
<blockquote class="doxtable">
<p>project.applyColorsAsync(options) &rarr; <code>Promise&lt;void&gt;</code> </p>
</blockquote>
<p>Resets all colors currently applied, if any, and applies a new set of colors to a set of tagged objects. Colors are not persisted between sessions: colors will not be restored when you reopen a project.</p>
<p>The <code>options</code> parameter is an object with the following attributes:</p>
<ul>
<li><code>colorGroups</code>: an array of objects describing how to apply which colors to which tagged objects.</li>
</ul>
<p>colorGroup has 3 attributes:</p>
<ul>
<li><code>color</code>: an html color (ex: '#00FF00', 'lime')</li>
<li><code>opacity</code>: an optional opacity in the range [0.0-1.0]. 1.0 if not set.</li>
<li><code>tagValues</code>: a list of tags to apply the colorization to</li>
</ul>
<p>Return value is a promise, which is resolved as soon as colors are applied.</p>
<p><a class="anchor" id="examples"></a></p>
<h2>WalkinsideJS Examples</h2>
<p>Examples are located in <code>3d\walkinside-js\examples</code> folder of the package</p>
<h3>How to run an example</h3>
<ol type="1">
<li>Make sure to have access to Walkinside Portal.</li>
<li>Make sure to have access to WalkinsideJS.</li>
<li>Open the index.html in the editor of your choice.</li>
<li>Search and replace <code>${WALKINSIDE-JS-LOCATION}</code> by the URL location where WalkinsideJS is installed.</li>
<li>Search and replace <code>${PROJECT-ADDRESS}</code> by the URL location of the project you want to load.<ul>
<li><a href="#findprojectAddress">How to find the project adress</a></li>
</ul>
</li>
<li>Double-click on your index.html and wait for the connection to be established.</li>
</ol>
<h3>How to run example 3</h3>
<ol type="1">
<li>Follow Step 1 to 5 of <a href="#How-to-run-an-example">How to run an example</a> first.</li>
<li>Example 3 needs also to have "Example10" plugin registered in the rendering service.<ul>
<li>Compile "Example10" in release x64.</li>
<li>Drop the dll inside the <code>3d\rendering-service\bin\plugins\Application</code> folder of the server installation folder.</li>
<li>Edit <code>3d\rendering-service\bin\data\Config Files\plugins.cfg</code> in the server installation folder.<br />
 <div class="fragment"><div class="line">&lt;<span class="keywordtype">Plugins</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div><div class="line">  &lt;<span class="keywordtype">Plugin</span> <span class="keyword">Path</span>=<span class="stringliteral">&quot;plugins/Application/dnStdNav.dll&quot;</span> /&gt;</div><div class="line">  &lt;<span class="keywordtype">Plugin</span> <span class="keyword">Path</span>=<span class="stringliteral">&quot;plugins/Application/Example10.dll&quot;</span> /&gt;</div><div class="line">&lt;/<span class="keywordtype">Plugins</span>&gt;</div></div><!-- fragment --></li>
</ul>
</li>
<li>Double-click on your index.html and wait for the connection to be established. </li>
</ol>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jun 13 2019 12:10:44 for COMOS WalkinsideJs by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
